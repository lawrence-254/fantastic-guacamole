'use strict';

var util = require('util');

var contentPath = require('./path');

var _require = require('./read'),
    hasContent = _require.hasContent;

var rimraf = util.promisify(require('rimraf'));
module.exports = rm;

function rm(cache, integrity) {
  return hasContent(cache, integrity).then(function (content) {
    // ~pretty~ sure we can't end up with a content lacking sri, but be safe
    if (content && content.sri) return rimraf(contentPath(cache, content.sri)).then(function () {
      return true;
    });else return false;
  });
}