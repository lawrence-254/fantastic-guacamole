// Copyright 2017 Lovell Fuller and others.
// SPDX-License-Identifier: Apache-2.0
'use strict';

var isLinux = function isLinux() {
  return process.platform === 'linux';
};

var report = null;

var getReport = function getReport() {
  if (!report) {
    /* istanbul ignore next */
    if (isLinux() && process.report) {
      var orig = process.report.excludeNetwork;
      process.report.excludeNetwork = true;
      report = process.report.getReport();
      process.report.excludeNetwork = orig;
    } else {
      report = {};
    }
  }

  return report;
};

module.exports = {
  isLinux: isLinux,
  getReport: getReport
};