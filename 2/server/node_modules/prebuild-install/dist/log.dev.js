"use strict";

var levels = {
  silent: 0,
  error: 1,
  warn: 2,
  notice: 3,
  http: 4,
  timing: 5,
  info: 6,
  verbose: 7,
  silly: 8
};

module.exports = function (rc, env) {
  var level = rc.verbose ? 'verbose' : env.npm_config_loglevel || 'notice';

  var logAtLevel = function logAtLevel(messageLevel) {
    return function () {
      if (levels[messageLevel] <= levels[level]) {
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        console.error("prebuild-install ".concat(messageLevel, " ").concat(args.join(' ')));
      }
    };
  };

  return {
    error: logAtLevel('error'),
    warn: logAtLevel('warn'),
    http: logAtLevel('http'),
    info: logAtLevel('info'),
    level: level
  };
};